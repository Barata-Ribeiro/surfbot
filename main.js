(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(i=a.key,o=void 0,o=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i),"symbol"===t(o)?o:String(o)),a)}var i,o}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var a=function(){function t(n){e(this,t),this.element=n}return r(t,[{key:"limpar",value:function(e){return e.replace(/\D/g,"")}},{key:"construir",value:function(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4")}},{key:"formatar",value:function(e){var t=this.limpar(e);return this.construir(t)}},{key:"validar",value:function(e){var t=e.match(/(?:\d{3}[-.\s]?){3}\d{2}/g);return t&&t[0]===e}},{key:"validarNaMudanca",value:function(e){this.validar(e.value)?(e.value=this.formatar(e.value),this.errorElement.style.visibility="hidden"):this.errorElement.style.visibility="visible"}},{key:"adicionarEvento",value:function(){var e=this;this.element.addEventListener("change",(function(){e.validarNaMudanca(e.element)}))}},{key:"adicionarBalaoError",value:function(){var e=document.createElement("div");e.classList.add("balaoError"),e.innerText="CPF inválido \n Formato: xxx.xxx.xxx-xx",this.element.parentElement.appendChild(e),this.errorElement=e}},{key:"init",value:function(){return this.adicionarEvento(),this.adicionarBalaoError(),this}}]),t}();function i(){var e=document.getElementById("intro_email").value;document.getElementById("intro-form").action="./matricula.html?email=".concat(encodeURIComponent(e))}var o=function(){function t(n){e(this,t),this.element=n}return r(t,[{key:"limpar",value:function(e){return e.replace(/\D/g,"")}},{key:"construir",value:function(e){return e.replace(/(\d{5}[-\s]?)(\d{3})/g,"$1-$2")}},{key:"formatar",value:function(e){var t=this.limpar(e);return this.construir(t)}},{key:"validar",value:function(e){var t=e.match(/(?:\d{5}[-.\s]?)\d{3}$/);return t&&t[0]===e}},{key:"validarNaMudanca",value:function(e){this.validar(e.value)?(e.value=this.formatar(e.value),this.errorElement.style.visibility="hidden"):this.errorElement.style.visibility="visible"}},{key:"adicionarEvento",value:function(){var e=this;this.element.addEventListener("change",(function(){e.validarNaMudanca(e.element)}))}},{key:"adicionarBalaoError",value:function(){var e=document.createElement("div");e.classList.add("balaoError"),e.innerText="CEP inválido \n Formato: xxxxx-xxx",this.element.parentElement.appendChild(e),this.errorElement=e}},{key:"init",value:function(){return this.adicionarEvento(),this.adicionarBalaoError(),this}}]),t}(),l=function(){function t(n){e(this,t),this.element=n}return r(t,[{key:"limpar",value:function(e){return e.replace(/\D/g,"")}},{key:"construir",value:function(e){return 16===e.length?e.replace(/(\d{4})(\d{4})(\d{4})(\d{4})/g,"$1 $2 $3 $4"):e}},{key:"formatar",value:function(e){var t=this.limpar(e);return this.construir(t)}},{key:"validarNumero",value:function(e){var t=e.match(/(?:\d{4}[-.\s]?){3}\d{4}/g);return t&&t[0]===e}},{key:"validarData",value:function(e,t){var n=new Date,r=n.getFullYear(),a=n.getMonth()+1;return!(t<r||t===r&&e<a)}},{key:"adicionarEventos",value:function(){var e=this,t=this.element.querySelector("#numero-cartao"),n=this.element.querySelector("#mes-cartao"),r=this.element.querySelector("#ano-cartao");t.addEventListener("input",(function(){var n=e.formatar(t.value);t.value=n,e.validarNumero(n)?e.errorElement.style.visibility="hidden":(e.errorElement.innerText="Número do cartão inválido",e.errorElement.style.visibility="visible")})),n.addEventListener("change",(function(){e.validarData(n.value,r.value)?e.errorElement.style.visibility="hidden":(e.errorElement.innerText="Data de expiração inválida",e.errorElement.style.visibility="visible")})),r.addEventListener("change",(function(){e.validarData(n.value,r.value)?e.errorElement.style.visibility="hidden":(e.errorElement.innerText="Data de expiração inválida",e.errorElement.style.visibility="visible")}))}},{key:"adicionarBalaoErro",value:function(){var e=document.createElement("div");e.classList.add("balaoError"),e.style.visibility="hidden";var t=this.element;t.style.position="relative",t.appendChild(e),this.errorElement=e}},{key:"init",value:function(){return this.adicionarEventos(),this.adicionarBalaoErro(),this}}]),t}();document.addEventListener("DOMContentLoaded",(function(){if("/matricula.html"===new URL(window.location.href).pathname){var e=document.getElementById("cpf");new a(e).init();var t=document.getElementById("cep");new o(t).init();var n=document.getElementById("form-pagamento-cartao");new l(n).init(),d=document.getElementById("estado"),s=document.getElementById("cidade"),d.addEventListener("change",(function(e){var t=e.target.value,n="https://servicodados.ibge.gov.br/api/v1/localidades/estados/".concat(t,"/municipios?orderBy=nome");fetch(n).then((function(e){return e.json()})).then((function(e){s.innerHTML='<option value="">Selecione a Cidade</option>',e.forEach((function(e){var t=document.createElement("option");t.value=e.nome,t.text=e.nome,s.add(t)}))})).catch((function(e){console.log(e)}))})),function(){var e=document.querySelector('label[for="cartao"]'),t=document.querySelector('label[for="boleto"]');function n(e,t){e.classList.add("ativo"),t.classList.remove("ativo"),e.querySelector("input").checked=!0,t.querySelector("input").checked=!1}e.addEventListener("click",(function(){return n(e,t)})),t.addEventListener("click",(function(){return n(t,e)})),document.querySelectorAll('.form-pagamento-tipo input[type="radio"]').forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.id;document.querySelectorAll(".form-pagamento-conteudo").forEach((function(e){e.id==="form-pagamento-".concat(t)?e.classList.remove("esconder"):e.classList.add("esconder")}))}))}))}(),function(){var e=document.querySelectorAll(".form-plano-tipo label"),t=document.querySelectorAll(".aulas-tipo-planos div"),n=document.querySelector("[data-valor]");function r(r){if(r&&r.classList&&r.querySelector){e.forEach((function(e){e.classList.remove("ativo");var t=e.querySelector("input");t&&(t.checked=!1)})),r.classList.add("ativo");var a=r.querySelector("input");a&&(a.checked=!0),t.forEach((function(e){e.dataset.plano===a.id?(e.classList.remove("esconder"),n.dataset.valor=e.querySelector(".font-2-s-b.cor-p2").textContent.replace("R$","").trim(),n.textContent="R$ ".concat(n.dataset.valor)):e.classList.add("esconder")}))}}e.forEach((function(e){e.addEventListener("click",(function(){r(e)}))}));var a=new URLSearchParams(window.location.search).get("produto");"infantil"===a?r(document.querySelector('label[for="infantil"]')):"adulto"===a?r(document.querySelector('label[for="adulto"]')):"profissional"===a&&r(document.querySelector('label[for="profissional"]'))}()}else!function(){var e=document.getElementById("btn-mobile");function t(e){"touchstart"===e.type&&e.preventDefault();var t=document.querySelector(".header-menu");t.classList.toggle("btnAtivo");var n=t.classList.contains("btnAtivo");e.currentTarget.setAttribute("aria-expanded",n);var r=document.querySelector(".overlay");n?(e.currentTarget.setAttribute("aria-label","Fechar Menu"),r.classList.add("overlayAtivo"),document.body.style.overflow="hidden"):(e.currentTarget.setAttribute("aria-label","Abrir Menu"),r.classList.remove("overlayAtivo"),document.body.style.overflow=""),document.querySelectorAll(".header-menu ul a").forEach((function(e){e.addEventListener("click",(function(){r.classList.remove("overlayAtivo"),t.classList.remove("btnAtivo"),document.body.style.overflow=""}))}))}e.addEventListener("click",t),e.addEventListener("touchstart",t)}(),c=(r=new Date).getHours(),u=r.getMinutes(),c>6&&c<14||6===c&&u>=0||14===c&&u<0?document.querySelector(".horario").classList.add("aberto"):document.querySelector(".horario").classList.add("fechado"),document.querySelectorAll('nav a[href*="#"]').forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}))}));var r,c,u,d,s;!function(){var e=new URLSearchParams(window.location.search).get("intro_email");e&&(document.getElementById("email").value=e);var t=document.getElementById("intro-form");t&&t.addEventListener("submit",i)}()}))})();